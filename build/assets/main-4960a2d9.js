import"https://cdn.jsdelivr.net/npm/chart.js/auto/+esm";import*as wt from"d3";import{Grid as ue}from"https://cdn.jsdelivr.net/npm/@vx/grid/+esm";import{LinePath as ce}from"https://cdn.jsdelivr.net/npm/@vx/shape/+esm";import{scaleLinear as At}from"https://cdn.jsdelivr.net/npm/@vx/scale/+esm";import{AxisLeft as ae,AxisBottom as he}from"https://cdn.jsdelivr.net/npm/@vx/axis/+esm";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))o(_);new MutationObserver(_=>{for(const i of _)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(_){const i={};return _.integrity&&(i.integrity=_.integrity),_.referrerPolicy&&(i.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?i.credentials="include":_.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(_){if(_.ep)return;_.ep=!0;const i=n(_);fetch(_.href,i)}})();var _t,h,Rt,Bt,U,Ct,Vt,at,I={},Wt=[],pe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,yt=Array.isArray;function D(e,t){for(var n in t)e[n]=t[n];return e}function qt(e){var t=e.parentNode;t&&t.removeChild(e)}function de(e,t,n){var o,_,i,s={};for(i in t)i=="key"?o=t[i]:i=="ref"?_=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?_t.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Y(e,s,o,_,null)}function Y(e,t,n,o,_){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_??++Rt};return _==null&&h.vnode!=null&&h.vnode(i),i}function j(e){return e.children}function B(e,t){this.props=e,this.context=t}function W(e,t){if(t==null)return e.__?W(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__d||n.__e;return typeof e.type=="function"?W(e):null}function jt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return jt(e)}}function Et(e){(!e.__d&&(e.__d=!0)&&U.push(e)&&!tt.__r++||Ct!==h.debounceRendering)&&((Ct=h.debounceRendering)||Vt)(tt)}function tt(){var e,t,n,o,_,i,s,f,u;for(U.sort(at);e=U.shift();)e.__d&&(t=U.length,o=void 0,_=void 0,i=void 0,f=(s=(n=e).__v).__e,(u=n.__P)&&(o=[],_=[],(i=D({},s)).__v=s.__v+1,mt(u,s,i,n.__n,u.ownerSVGElement!==void 0,s.__h!=null?[f]:null,o,f??W(s),s.__h,_),Yt(o,s,_),s.__e!=f&&jt(s)),U.length>t&&U.sort(at));tt.__r=0}function Gt(e,t,n,o,_,i,s,f,u,v,d){var r,a,c,l,p,E,g,y,P,w=0,$=o&&o.__k||Wt,F=$.length,b=F,H=t.length;for(n.__k=[],r=0;r<H;r++)(l=n.__k[r]=(l=t[r])==null||typeof l=="boolean"||typeof l=="function"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?Y(null,l,null,null,l):yt(l)?Y(j,{children:l},null,null,null):l.__b>0?Y(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null?(l.__=n,l.__b=n.__b+1,(y=ve(l,$,g=r+w,b))===-1?c=I:(c=$[y]||I,$[y]=void 0,b--),mt(e,l,c,_,i,s,f,u,v,d),p=l.__e,(a=l.ref)&&c.ref!=a&&(c.ref&&gt(c.ref,null,l),d.push(a,l.__c||p,l)),p!=null&&(E==null&&(E=p),(P=c===I||c.__v===null)?y==-1&&w--:y!==g&&(y===g+1?w++:y>g?b>H-g?w+=y-g:w--:w=y<g&&y==g-1?y-g:0),g=r+w,typeof l.type!="function"||y===g&&c.__k!==l.__k?typeof l.type=="function"||y===g&&!P?l.__d!==void 0?(u=l.__d,l.__d=void 0):u=p.nextSibling:u=Kt(e,p,u):u=Jt(l,u,e),typeof n.type=="function"&&(n.__d=u))):(c=$[r])&&c.key==null&&c.__e&&(c.__e==u&&(c.__=o,u=W(c)),ht(c,c,!1),$[r]=null);for(n.__e=E,r=F;r--;)$[r]!=null&&(typeof n.type=="function"&&$[r].__e!=null&&$[r].__e==n.__d&&(n.__d=$[r].__e.nextSibling),ht($[r],$[r]))}function Jt(e,t,n){for(var o,_=e.__k,i=0;_&&i<_.length;i++)(o=_[i])&&(o.__=e,t=typeof o.type=="function"?Jt(o,t,n):Kt(n,o.__e,t));return t}function Kt(e,t,n){return n==null||n.parentNode!==e?e.insertBefore(t,null):t==n&&t.parentNode!=null||e.insertBefore(t,n),t.nextSibling}function ve(e,t,n,o){var _=e.key,i=e.type,s=n-1,f=n+1,u=t[n];if(u===null||u&&_==u.key&&i===u.type)return n;if(o>(u!=null?1:0))for(;s>=0||f<t.length;){if(s>=0){if((u=t[s])&&_==u.key&&i===u.type)return s;s--}if(f<t.length){if((u=t[f])&&_==u.key&&i===u.type)return f;f++}}return-1}function ye(e,t,n,o,_){var i;for(i in n)i==="children"||i==="key"||i in t||et(e,i,null,n[i],o);for(i in t)_&&typeof t[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||n[i]===t[i]||et(e,i,t[i],n[i],o)}function Pt(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||pe.test(t)?n:n+"px"}function et(e,t,n,o,_){var i;t:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||Pt(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||Pt(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o?n.u=o.u:(n.u=Date.now(),e.addEventListener(t,i?Dt:Ht,i)):e.removeEventListener(t,i?Dt:Ht,i);else if(t!=="dangerouslySetInnerHTML"){if(_)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ht(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(h.event?h.event(e):e)}function Dt(e){return this.l[e.type+!0](h.event?h.event(e):e)}function mt(e,t,n,o,_,i,s,f,u,v){var d,r,a,c,l,p,E,g,y,P,w,$,F,b,H,S=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(u=n.__h,f=t.__e=n.__e,t.__h=null,i=[f]),(d=h.__b)&&d(t);t:if(typeof S=="function")try{if(g=t.props,y=(d=S.contextType)&&o[d.__c],P=d?y?y.props.value:d.__:o,n.__c?E=(r=t.__c=n.__c).__=r.__E:("prototype"in S&&S.prototype.render?t.__c=r=new S(g,P):(t.__c=r=new B(g,P),r.constructor=S,r.render=ge),y&&y.sub(r),r.props=g,r.state||(r.state={}),r.context=P,r.__n=o,a=r.__d=!0,r.__h=[],r._sb=[]),r.__s==null&&(r.__s=r.state),S.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=D({},r.__s)),D(r.__s,S.getDerivedStateFromProps(g,r.__s))),c=r.props,l=r.state,r.__v=t,a)S.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(S.getDerivedStateFromProps==null&&g!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(g,P),!r.__e&&(r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(g,r.__s,P)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(r.props=g,r.state=r.__s,r.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(z){z&&(z.__=t)}),w=0;w<r._sb.length;w++)r.__h.push(r._sb[w]);r._sb=[],r.__h.length&&s.push(r);break t}r.componentWillUpdate!=null&&r.componentWillUpdate(g,r.__s,P),r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,l,p)})}if(r.context=P,r.props=g,r.__P=e,r.__e=!1,$=h.__r,F=0,"prototype"in S&&S.prototype.render){for(r.state=r.__s,r.__d=!1,$&&$(t),d=r.render(r.props,r.state,r.context),b=0;b<r._sb.length;b++)r.__h.push(r._sb[b]);r._sb=[]}else do r.__d=!1,$&&$(t),d=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++F<25);r.state=r.__s,r.getChildContext!=null&&(o=D(D({},o),r.getChildContext())),a||r.getSnapshotBeforeUpdate==null||(p=r.getSnapshotBeforeUpdate(c,l)),Gt(e,yt(H=d!=null&&d.type===j&&d.key==null?d.props.children:d)?H:[H],t,n,o,_,i,s,f,u,v),r.base=t.__e,t.__h=null,r.__h.length&&s.push(r),E&&(r.__E=r.__=null)}catch(z){t.__v=null,(u||i!=null)&&(t.__e=f,t.__h=!!u,i[i.indexOf(f)]=null),h.__e(z,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=me(n.__e,t,n,o,_,i,s,u,v);(d=h.diffed)&&d(t)}function Yt(e,t,n){for(var o=0;o<n.length;o++)gt(n[o],n[++o],n[++o]);h.__c&&h.__c(t,e),e.some(function(_){try{e=_.__h,_.__h=[],e.some(function(i){i.call(_)})}catch(i){h.__e(i,_.__v)}})}function me(e,t,n,o,_,i,s,f,u){var v,d,r,a=n.props,c=t.props,l=t.type,p=0;if(l==="svg"&&(_=!0),i!=null){for(;p<i.length;p++)if((v=i[p])&&"setAttribute"in v==!!l&&(l?v.localName===l:v.nodeType===3)){e=v,i[p]=null;break}}if(e==null){if(l===null)return document.createTextNode(c);e=_?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,c.is&&c),i=null,f=!1}if(l===null)a===c||f&&e.data===c||(e.data=c);else{if(i=i&&_t.call(e.childNodes),d=(a=n.props||I).dangerouslySetInnerHTML,r=c.dangerouslySetInnerHTML,!f){if(i!=null)for(a={},p=0;p<e.attributes.length;p++)a[e.attributes[p].name]=e.attributes[p].value;(r||d)&&(r&&(d&&r.__html==d.__html||r.__html===e.innerHTML)||(e.innerHTML=r&&r.__html||""))}if(ye(e,c,a,_,f),r)t.__k=[];else if(Gt(e,yt(p=t.props.children)?p:[p],t,n,o,_&&l!=="foreignObject",i,s,i?i[0]:n.__k&&W(n,0),f,u),i!=null)for(p=i.length;p--;)i[p]!=null&&qt(i[p]);f||("value"in c&&(p=c.value)!==void 0&&(p!==e.value||l==="progress"&&!p||l==="option"&&p!==a.value)&&et(e,"value",p,a.value,!1),"checked"in c&&(p=c.checked)!==void 0&&p!==e.checked&&et(e,"checked",p,a.checked,!1))}return e}function gt(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){h.__e(o,n)}}function ht(e,t,n){var o,_;if(h.unmount&&h.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||gt(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){h.__e(i,t)}o.base=o.__P=null,e.__c=void 0}if(o=e.__k)for(_=0;_<o.length;_++)o[_]&&ht(o[_],t,n||typeof e.type!="function");n||e.__e==null||qt(e.__e),e.__=e.__e=e.__d=void 0}function ge(e,t,n){return this.constructor(e,n)}function be(e,t,n){var o,_,i,s;h.__&&h.__(e,t),_=(o=typeof n=="function")?null:n&&n.__k||t.__k,i=[],s=[],mt(t,e=(!o&&n||t).__k=de(j,null,[e]),_||I,I,t.ownerSVGElement!==void 0,!o&&n?[n]:_?null:t.firstChild?_t.call(t.childNodes):null,i,!o&&n?n:_?_.__e:t.firstChild,o,s),Yt(i,e,s)}_t=Wt.slice,h={__e:function(e,t,n,o){for(var _,i,s;t=t.__;)if((_=t.__c)&&!_.__)try{if((i=_.constructor)&&i.getDerivedStateFromError!=null&&(_.setState(i.getDerivedStateFromError(e)),s=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(e,o||{}),s=_.__d),s)return _.__E=_}catch(f){e=f}throw e}},Rt=0,Bt=function(e){return e!=null&&e.constructor===void 0},B.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=D({},this.state),typeof e=="function"&&(e=e(D({},n),this.props)),e&&D(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Et(this))},B.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Et(this))},B.prototype.render=j,U=[],Vt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,at=function(e,t){return e.__v.__b-t.__v.__b},tt.__r=0;var q,x,ft,Nt,nt=0,Zt=[],Z=[],Ft=h.__b,zt=h.__r,Lt=h.diffed,Ut=h.__c,Ot=h.unmount;function bt(e,t){h.__h&&h.__h(x,e,nt||t),nt=0;var n=x.__H||(x.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Z}),n.__[e]}function ot(e){return nt=1,Te(Xt,e)}function Te(e,t,n){var o=bt(q++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):Xt(void 0,t),function(f){var u=o.__N?o.__N[0]:o.__[0],v=o.t(u,f);u!==v&&(o.__N=[v,o.__[1]],o.__c.setState({}))}],o.__c=x,!x.u)){var _=function(f,u,v){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(a){return a.__c});if(d.every(function(a){return!a.__N}))return!i||i.call(this,f,u,v);var r=!1;return d.forEach(function(a){if(a.__N){var c=a.__[0];a.__=a.__N,a.__N=void 0,c!==a.__[0]&&(r=!0)}}),!(!r&&o.__c.props===f)&&(!i||i.call(this,f,u,v))};x.u=!0;var i=x.shouldComponentUpdate,s=x.componentWillUpdate;x.componentWillUpdate=function(f,u,v){if(this.__e){var d=i;i=void 0,_(f,u,v),i=d}s&&s.call(this,f,u,v)},x.shouldComponentUpdate=_}return o.__N||o.__}function Q(e,t){var n=bt(q++,3);!h.__s&&Qt(n.__H,t)&&(n.__=e,n.i=t,x.__H.__h.push(n))}function pt(e){return nt=5,Tt(function(){return{current:e}},[])}function Tt(e,t){var n=bt(q++,7);return Qt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function ke(){for(var e;e=Zt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(X),e.__H.__h.forEach(dt),e.__H.__h=[]}catch(t){e.__H.__h=[],h.__e(t,e.__v)}}h.__b=function(e){x=null,Ft&&Ft(e)},h.__r=function(e){zt&&zt(e),q=0;var t=(x=e.__c).__H;t&&(ft===x?(t.__h=[],x.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Z,n.__N=n.i=void 0})):(t.__h.forEach(X),t.__h.forEach(dt),t.__h=[],q=0)),ft=x},h.diffed=function(e){Lt&&Lt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Zt.push(t)!==1&&Nt===h.requestAnimationFrame||((Nt=h.requestAnimationFrame)||$e)(ke)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Z&&(n.__=n.__V),n.i=void 0,n.__V=Z})),ft=x=null},h.__c=function(e,t){t.some(function(n){try{n.__h.forEach(X),n.__h=n.__h.filter(function(o){return!o.__||dt(o)})}catch(o){t.some(function(_){_.__h&&(_.__h=[])}),t=[],h.__e(o,n.__v)}}),Ut&&Ut(e,t)},h.unmount=function(e){Ot&&Ot(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{X(o)}catch(_){t=_}}),n.__H=void 0,t&&h.__e(t,n.__v))};var It=typeof requestAnimationFrame=="function";function $e(e){var t,n=function(){clearTimeout(o),It&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);It&&(t=requestAnimationFrame(n))}function X(e){var t=x,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),x=t}function dt(e){var t=x;e.__c=e.__(),x=t}function Qt(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Xt(e,t){return typeof t=="function"?t(e):t}const xe=[122.26666528547258],Se=[23.766667606697723],we=["2023-07-25T12:10:20","2023-07-25T13:10:20","2023-07-25T14:10:20","2023-07-25T15:10:20","2023-07-25T16:10:20","2023-07-25T17:10:20","2023-07-25T18:10:20","2023-07-25T19:10:20","2023-07-25T20:10:20","2023-07-25T21:10:20","2023-07-25T22:10:20","2023-07-25T23:10:20","2023-07-26T00:10:20","2023-07-26T01:10:20","2023-07-26T02:10:20","2023-07-26T03:10:20","2023-07-26T04:10:20","2023-07-26T05:10:20","2023-07-26T06:10:20","2023-07-26T07:10:20","2023-07-26T08:10:20","2023-07-26T09:10:20","2023-07-26T10:10:20","2023-07-26T11:10:20","2023-07-26T12:10:20","2023-07-26T13:10:20","2023-07-26T14:10:20","2023-07-26T15:10:20","2023-07-26T16:10:20","2023-07-26T17:10:20","2023-07-26T18:10:20","2023-07-26T19:10:20","2023-07-26T20:10:20","2023-07-26T21:10:20","2023-07-26T22:10:20","2023-07-26T23:10:20","2023-07-27T00:10:20","2023-07-27T01:10:20","2023-07-27T02:10:20","2023-07-27T03:10:20","2023-07-27T04:10:20","2023-07-27T05:10:20","2023-07-27T06:10:20","2023-07-27T07:10:20","2023-07-27T08:10:20","2023-07-27T09:10:20","2023-07-27T10:10:20","2023-07-27T11:10:20","2023-07-27T12:10:20","2023-07-27T13:10:20","2023-07-27T14:10:20","2023-07-27T15:10:20","2023-07-27T16:10:20","2023-07-27T17:10:20","2023-07-27T18:10:20","2023-07-27T19:10:20","2023-07-27T20:10:20","2023-07-27T21:10:20","2023-07-27T22:10:20","2023-07-27T23:10:20","2023-07-28T00:10:20","2023-07-28T01:10:20","2023-07-28T02:10:20","2023-07-28T03:10:20","2023-07-28T04:10:20","2023-07-28T05:10:20","2023-07-28T06:10:20","2023-07-28T07:10:20","2023-07-28T08:10:20","2023-07-28T09:10:20","2023-07-28T10:10:20","2023-07-28T11:10:20","2023-07-28T12:10:20","2023-07-28T13:10:20"],Ae=[7.984519877563029,25.536668753517322,38.11109918747068,42.84739898855736,38.640395824455084,26.437780303225576,9.077995140381844,-9.375942145472429,-24.6794355636544,-33.520978284188736,-34.345600782797575,-27.640680508246884,-15.659416269208137,-1.7474377607980283,10.49725087687296,18.04613746284382,19.123780939778655,13.647999770622974,3.304751669812598,-8.83415282891166,-19.11606394315013,-24.32321169733528,-22.572284446934006,-13.807279506697572,.23308867431013192,16.493657802418703,31.335012959279222,41.33204832315801,44.009155109295,38.411849322665304,25.397295935586566,7.520554418202276,-11.530388498352869,-27.839164096260994,-38.23888037421009,-41.05306312580903,-36.39261983614313,-25.985383774591085,-12.664108274237213,.3160342786410336,9.995265651085104,14.365318292100463,12.856719721558854,6.519203444923348,-2.219223962048653,-10.209228580372525,-14.477366979275224,-13.072962002151645,-5.595269594156717,6.724628176808895,21.34304086135769,34.98319830193566,44.33429744777311,46.767750743991776,40.97294985250078,27.374858079412668,8.173785945402292,-13.083788385271196,-32.33256427835561,-45.97297036281563,-51.7038060556594,-48.972256112378645,-38.97733549423862,-24.307180616392618,-8.341462812156827,5.472123216118793,14.376264338912668,16.970172641795447,13.599128448632053,6.291256757331973,-1.8085929488548549,-7.358759010977211,-7.791663588452083,-2.023949662868453],Mt={longitude:xe,latitude:Se,time:we,z:Ae};function st(){throw new Error("Cycle detected")}const Ce=Symbol.for("preact-signals");function kt(){if(M>1){M--;return}let e,t=!1;for(;V!==void 0;){let n=V;for(V=void 0,vt++;n!==void 0;){const o=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&ee(n))try{n.c()}catch(_){t||(e=_,t=!0)}n=o}}if(vt=0,M--,t)throw e}let k,V,M=0,vt=0,it=0;function te(e){if(k===void 0)return;let t=e.n;if(t===void 0||t.t!==k)return t={i:0,S:e,p:k.s,n:void 0,t:k,e:void 0,x:void 0,r:t},k.s!==void 0&&(k.s.n=t),k.s=t,e.n=t,32&k.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=k.s,t.n=void 0,k.s.n=t,k.s=t),t}function C(e){this.v=e,this.i=0,this.n=void 0,this.t=void 0}C.prototype.brand=Ce;C.prototype.h=function(){return!0};C.prototype.S=function(e){this.t!==e&&e.e===void 0&&(e.x=this.t,this.t!==void 0&&(this.t.e=e),this.t=e)};C.prototype.U=function(e){if(this.t!==void 0){const t=e.e,n=e.x;t!==void 0&&(t.x=n,e.e=void 0),n!==void 0&&(n.e=t,e.x=void 0),e===this.t&&(this.t=n)}};C.prototype.subscribe=function(e){const t=this;return xt(function(){const n=t.value,o=32&this.f;this.f&=-33;try{e(n)}finally{this.f|=o}})};C.prototype.valueOf=function(){return this.value};C.prototype.toString=function(){return this.value+""};C.prototype.toJSON=function(){return this.value};C.prototype.peek=function(){return this.v};Object.defineProperty(C.prototype,"value",{get(){const e=te(this);return e!==void 0&&(e.i=this.i),this.v},set(e){if(k instanceof N&&function(){throw new Error("Computed cannot have side-effects")}(),e!==this.v){vt>100&&st(),this.v=e,this.i++,it++,M++;try{for(let t=this.t;t!==void 0;t=t.x)t.t.N()}finally{kt()}}}});function G(e){return new C(e)}function ee(e){for(let t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function ne(e){for(let t=e.s;t!==void 0;t=t.n){const n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function oe(e){let t,n=e.s;for(;n!==void 0;){const o=n.p;n.i===-1?(n.S.U(n),o!==void 0&&(o.n=n.n),n.n!==void 0&&(n.n.p=o)):t=n,n.S.n=n.r,n.r!==void 0&&(n.r=void 0),n=o}e.s=t}function N(e){C.call(this,void 0),this.x=e,this.s=void 0,this.g=it-1,this.f=4}(N.prototype=new C).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===it))return!0;if(this.g=it,this.f|=1,this.i>0&&!ee(this))return this.f&=-2,!0;const e=k;try{ne(this),k=this;const t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return k=e,oe(this),this.f&=-2,!0};N.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(let t=this.s;t!==void 0;t=t.n)t.S.S(t)}C.prototype.S.call(this,e)};N.prototype.U=function(e){if(this.t!==void 0&&(C.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(let t=this.s;t!==void 0;t=t.n)t.S.U(t)}};N.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(let e=this.t;e!==void 0;e=e.x)e.t.N()}};N.prototype.peek=function(){if(this.h()||st(),16&this.f)throw this.v;return this.v};Object.defineProperty(N.prototype,"value",{get(){1&this.f&&st();const e=te(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function Ee(e){return new N(e)}function ie(e){const t=e.u;if(e.u=void 0,typeof t=="function"){M++;const n=k;k=void 0;try{t()}catch(o){throw e.f&=-2,e.f|=8,$t(e),o}finally{k=n,kt()}}}function $t(e){for(let t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,ie(e)}function Pe(e){if(k!==this)throw new Error("Out-of-order effect");oe(this),k=e,this.f&=-2,8&this.f&&$t(this),kt()}function J(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}J.prototype.c=function(){const e=this.S();try{if(8&this.f||this.x===void 0)return;const t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};J.prototype.S=function(){1&this.f&&st(),this.f|=1,this.f&=-9,ie(this),ne(this),M++;const e=k;return k=this,Pe.bind(this,e)};J.prototype.N=function(){2&this.f||(this.f|=2,this.o=V,V=this)};J.prototype.d=function(){this.f|=8,1&this.f||$t(this)};function xt(e){const t=new J(e);try{t.c()}catch(n){throw t.d(),n}return t.d.bind(t)}var ut;function R(e,t){h[e]=t.bind(null,h[e]||function(){})}function rt(e){ut&&ut(),ut=e&&e.S()}function re(e){var t=this,n=e.data,o=De(n);o.value=n;var _=Tt(function(){for(var i=t.__v;i=i.__;)if(i.__c){i.__c.__$f|=4;break}return t.__$u.c=function(){var s;!Bt(_.peek())&&((s=t.base)==null?void 0:s.nodeType)===3?t.base.data=_.peek():(t.__$f|=1,t.setState({}))},Ee(function(){var s=o.value.value;return s===0?0:s===!0?"":s||""})},[]);return _.value}re.displayName="_st";Object.defineProperties(C.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:re},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});R("__b",function(e,t){if(typeof t.type=="string"){var n,o=t.props;for(var _ in o)if(_!=="children"){var i=o[_];i instanceof C&&(n||(t.__np=n={}),n[_]=i,o[_]=i.peek())}}e(t)});R("__r",function(e,t){rt();var n,o=t.__c;o&&(o.__$f&=-2,(n=o.__$u)===void 0&&(o.__$u=n=function(_){var i;return xt(function(){i=this}),i.c=function(){o.__$f|=1,o.setState({})},i}())),rt(n),e(t)});R("__e",function(e,t,n,o){rt(),e(t,n,o)});R("diffed",function(e,t){rt();var n;if(typeof t.type=="string"&&(n=t.__e)){var o=t.__np,_=t.props;if(o){var i=n.U;if(i)for(var s in i){var f=i[s];f!==void 0&&!(s in o)&&(f.d(),i[s]=void 0)}else n.U=i={};for(var u in o){var v=i[u],d=o[u];v===void 0?(v=He(n,u,d,_),i[u]=v):v.o(d,_)}}}e(t)});function He(e,t,n,o){var _=t in e&&e.ownerSVGElement===void 0,i=G(n);return{o:function(s,f){i.value=s,o=f},d:xt(function(){var s=i.value.value;o[t]!==s&&(o[t]=s,_?e[t]=s:s?e.setAttribute(t,s):e.removeAttribute(t))})}}R("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var o=n.U;if(o){n.U=void 0;for(var _ in o){var i=o[_];i&&i.d()}}}}else{var s=t.__c;if(s){var f=s.__$u;f&&(s.__$u=void 0,f.d())}}e(t)});R("__h",function(e,t,n,o){(o<3||o===9)&&(t.__$f|=2),e(t,n,o)});B.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u;if(!(n&&n.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var o in t)return!0;for(var _ in e)if(_!=="__source"&&e[_]!==this.props[_])return!0;for(var i in this.props)if(!(i in e))return!0;return!1};function De(e){return Tt(function(){return G(e)},[])}var Ne=0;function A(e,t,n,o,_,i){var s,f,u={};for(f in t)f=="ref"?s=t[f]:u[f]=t[f];var v={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--Ne,__source:_,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(f in s)u[f]===void 0&&(u[f]=s[f]);return h.vnode&&h.vnode(v),v}const L=G(0),ct=e=>{L.value=e},K=G(!1),Fe=({data:e,labels:t=null,xkey:n="longitude",xkeyAsLabel:o=!1,speedFactor:_=1,autoRepeat:i=!0})=>{const s=pt(null),[f,u]=ot(null),[v,d]=ot(0),r=t||(o&&n==="time"?e[n].map(a=>new Date(a)):e[n].map((a,c)=>c));return Q(()=>{const a=new Chart(s.current,{type:"line",data:{labels:r,datasets:[{label:"Elevation",data:e.z,pointRadius:e.z.map((c,l)=>l===0?5:0),pointBackgroundColor:e.z.map((c,l)=>l===0?"rgba(255,0,0,0.5)":"rgba(0,0,0,0.5)")}]},options:{animation:{duration:0},scales:{x:{ticks:{autoSkip:!0,maxTicksLimit:10,callback:function(c,l){if(n==="time"){const p=new Date(r[l]);return`${p.getDate()}D${p.getHours()}h`}return c}}}},onClick:c=>{const l=a.getElementsAtEventForMode(c,"nearest",{intersect:!0},!0)[0];l&&(K.value?K.value=!1:(ct(l.index),K.value=!0))}}});return u(a),()=>{a&&a.destroy()}},[e]),Q(()=>{let a;const c=()=>{d(l=>{if(l>=_){let p=L.value,E=(p+1)%e.z.length;return E===0&&!i?(cancelAnimationFrame(a),ct(p)):ct(E),0}return l+1}),K.value||(a=requestAnimationFrame(c))};return a=requestAnimationFrame(c),()=>cancelAnimationFrame(a)},[e.z.length,_,i]),Q(()=>{if(!f)return;const a=f.data.datasets[0].pointBackgroundColor,c=f.data.datasets[0].pointRadius;a.fill("rgba(0,0,255,0.5)"),c.fill(0),a[L.value]="rgba(255,0,0,0.5)",c[L.value]=5,f.update();const l=f.ctx,E=f.getDatasetMeta(0).data[L.value];E&&(l.fillStyle="black",l.fillText(`Elevation: ${e.z[L.value]}`,E.x,E.y-10))},[f,L.value]),A("canvas",{ref:s})},O=G(!1),ze={z:{key:"z",unit:"m",label:"Elevation",digit:-1},x:{key:"longitude",label:"",keyAsLabel:!1},line:{color:"#0196da"},cursor:{color:"rgba(255,0,0,0.5)",speedFactor:10,autoRepeat:!0},annotate:{color:"#5A5A5A",label:["z","x"]},layout:{width:600,height:400}},Le=({data:e,labels:t=null,chartOpts:n={}})=>{const o={...ze,...n},[_,i]=ot(0),[s,f]=ot(0),u=pt(null),v=pt(null),d=o.z.key,r=o.z.unit,a=o.x.key,c=o.x.label,l=o.x.keyAsLabel,p=o.cursor.speedFactor,E=o.cursor.autoRepeat,g=o.line.color,y={top:10,right:10,bottom:40,left:40},P=o.layout.width-y.left-y.right,w=o.layout.height-y.top-y.bottom,$=m=>m.toString().padStart(2,"0"),F=(m,T=!0,fe=!1)=>{let lt=[m.getFullYear(),$(m.getMonth()+1),$(m.getDate())].join("-");if(!T)return lt;let St=m.getHours()+":"+m.getMinutes();return fe?`${lt} ${St}:${m.getSeconds()}`:`${lt} ${St}`},b=e[d].map((m,T)=>({z:m,index:T,label:l?a==="time"?new Date(e[a][T]):e[a][T]:t?t[T]:T})),H=At({domain:[0,b.length-1],range:[0,P]}),S=At({domain:[wt.min(e[d]),wt.max(e[d])],range:[w,0]}),z=()=>{f(m=>m>=p?(i(T=>T<b.length-1?T+1:E?0:T),0):m+1),O.value||(u.current=requestAnimationFrame(z))};Q(()=>{if(!O.value)return u.current=requestAnimationFrame(z),()=>cancelAnimationFrame(u.current)},[b.length,O.value,E]);const _e=m=>{O.value?O.value=!1:(cancelAnimationFrame(u.current),i(m),O.value=!0)},se=b.length>2e3?500:b.length>500?100:b.length>200?50:b.length>50?10:5,le=b.map((m,T)=>T%se===0?T:-1).filter(m=>m!==-1);return A("svg",{width:o.layout.width,height:o.layout.height,ref:v,children:A("g",{transform:`translate(${y.left}, ${y.top})`,children:[A(ue,{xScale:H,yScale:S,width:P,height:w}),A(ce,{data:b,x:m=>H(m.index),y:m=>S(m.z),stroke:g,strokeWidth:2}),b.map((m,T)=>A("circle",{cx:H(T),cy:S(m.z),r:5,fill:T===_?"rgba(255,0,0,0.5)":"transparent",onClick:()=>_e(T)},T)),A("text",{x:H(_)+10,y:S(b[_].z),fill:"#5A5A5A",children:[A("tspan",{x:H(_)+10,dy:"0",children:`${b[_].z} ${r}`}),A("tspan",{x:H(_)+10,dy:"15",children:`${l&&a==="time"?F(b[_].label):b[_].label}`})]}),o.z.label&&A("text",{transform:"rotate(-90)",y:0-y.left,x:0-w/2,dy:"1em",style:{textAnchor:"middle"},children:[o.z.label,r?` (${r})`:""]}),A(ae,{scale:S,top:0,left:0,label:"Elevation",tickStroke:"#ddd",tickLength:5,numTicks:10}),A(he,{scale:H,top:w,left:0,label:c,tickStroke:"#ddd",tickLength:5,tickValues:le,tickFormat:m=>{if(l&&a==="time"){const T=b[m].label;return T.getDate()+"D"+T.getHours()+"h"}return b[m].label}})]})})},Ue={z:{key:"z",unit:"cm",label:"Tide height"},x:{key:"time",label:"",keyAsLabel:!0},line:{color:"darkgray"},cursor:{color:"rgba(255,0,0,0.5)",speedFactor:10,autoRepeat:!0},annotate:{color:"#5A5A5A",label:["z","x"]},layout:{width:600,height:400}};function Oe(){return A(j,{children:A("div",{style:"position:absolute;left:5%;top:5%;padding:10px",children:[A(Le,{data:Mt,chartOpts:Ue}),A(Fe,{data:Mt,xkey:"time",xkeyAsLabel:!0,speedFactor:10,autoRepeat:!0})]})})}typeof window<"u"&&be(A(Oe,{}),document.getElementById("root"));
